# 좋았던 내용

## 리팩터링 진행의 방향성

- 프로그램의 작동 방식을 쉽게 파악할 수 있도록 하기
- 리팩터링 후 기능 추가
- 리팩터링 후에는 항상 테스트를 해보기
- 작은 단계로 진행하기 ⇒ 디버깅 시간 감소
- 모듈화 하기 ⇒ 코드 가독성 및 재사용성 향상

## 테스트의 중요성

- 사람은 실수할 수 있다 ⇒ 사이드 이펙트 발생 우려
- 디버깅 시간 감소 ⇒ 작업 시간 단축

<br/>

# 중요한 것 같은 내용

## 리팩터링에 대한 필자의 의견

- 특별한 경우가 아니라면 미미한 성능 문제는 일단 무시하자
  - 리팩터링 후 성능 떨어지는 경우, 그 때 개선하기
- 프로그래밍에서는 명료함이 진화할 수 있는 소프트웨어의 정수다
- 객체지향의 핵심 특성인 다형성을 활용하자
- 좋은 코드를 가늠하는 확실한 방법은 ‘얼마나 수정하기 쉬운가’ 이다

## 리팩터링 기법

- 반복문 쪼개기
- 문장 슬라이드하기
- 함수 추출하기
- 변수 인라인하기
- 함수 옮기기
- 조건부 로직을 다형성으로 바꾸기
- 단계 쪼개기

## 리팩터링 기법 세분화

<aside>
💡 bold 글씨체 이후 테스트는 필수!

</aside>

- **함수 추출**
  - 별도의 함수로 빼내기
  - 불변값은 매개 변수로 활용
  - 변수는 지역 변수로 활용
- **추출한 함수를 더 명확하게 표현 (Ex. 내부 변수명 개선 등)**

    ```tsx
    // AS-IS
    const performance = 'dd'
    return performance

    // TO-BE
    const result = 'dd'
    return result
    ```

- **임시 변수를 질의 함수로 바꾸기**
  - 별도 함수를 만들어서 반환값으로 이용할 수 있게 하기
- **변수 인라인하기**
  - 변수활용 대신 매개변수 자체에 함수 실행문을 넣어버리쟈

      ```tsx
      // AS-IS
      const play = playFor(perf)
      amountFor(perf, play)

      // TO-BE
      amountFor(perf, playFor(perf))
      ```

- **함수 선언 바꾸기 (지역 변수 || 매개 변수 제거)**
  - 변수 인라인 덕에 변수를 모두 함수 실행으로 변경
  - 하지만 함수 실행을 더 여러번 하게 됨
- **반복문 쪼개기**
  - 하나의 for문에서 너무 많은 로직을 수행하고 있다면 두개의 for문으로 구분하여 각 for문의역할을 명확히 하자
- **문장 슬라이드하기**
  - 관련있는 반복문 바로 앞으로 변수 선언 옮기기
- **단계 쪼개기**
  - 로직의 단계를 구분하기
  - 중간 데이터를 활용하도록 변경하기
    - 매개변수로 활용할 객체 전달 ⇒ 내부에서 실행할 결과값을 해당 객체에 저장 ⇒ 객체 반환
- **반복문을 파이프라인으로 바꾸기**
  - for문 ⇒ reduce || map || filter와 같은 고차함수를 이용
- **조건부 로직을 다형성으로 바꾸기**
  - 조건부 코드 덩어리를 다형성을 활용하는 방식으로 변경 (함수 ⇒ 클래스)
  - 서브 클래스, 슈퍼 클래스를 만들어서 확장하는 형태
  - 공통 로직은 슈퍼 클래스
- **타입 코드를 서브 클래스로 바꾸기**
- **생성자를 팩토리 함수로 바꾸기**

## 변수명 규칙

- 매개변수의 역할이 뚜렷하지 않을 때에는 접두어로 부정 관사 (a/an) 붙이기

    ⇒ 타입이 애매할 때..

<br/>

# 궁금한 내용 & 얘기하고 싶은 내용

- **매개변수를 제거하고 변수 인라인하는 것은 왜 좋은걸까?? (P.37)**
  - 코드의 가독성이 더 떨어지지 않나!? ⇒ 추상화 때문인가?

    ⇒ 추출 작업이 수월해진다.. 해결

- **유틸함수를 어디까지 분해해야 좋을까? (P.44)**
  - 활용성 vs 가독성
    - 화폐의 단위에 따라 변환시키는 유틸 함수
    - 달러 전용 유틸 함수 (usd) ⇒ **YAGNI**
- **클래스, 유지보수 관련 내용**
- **클래스는 좋긴 하지만 본인만의 세계에 빠질 수 있다..고 들었다!**

    ⇒ 그 분의 의견을 존중,,

- **추가해야할 기능은 추가하지 않는게 좋다..고 들었다!**
  - 진짜 필요할 때 추가하는 것이 좋다

<br/>

# 새롭게 알게된 내용

- IDE에서 리팩터링이 가능하다!
- 지역 변수 제거 시, 추출 작업이 훨씬 쉬워진다
  - 유효 범위를 신경 써야할 대상이 줄어들기 때문
- 임시 변수는 루틴이 길고 복잡해지기 쉽기 때문에 나중에 문제를 일으킬 수 있다

<br/>

# 내가 리팩터링을 한다면?

- TypeScript 도입 ⇒ 안정성 및 생산성 향상
- 여백으로 구분
- 유틸함수 분리
- if 컬리 브라켓
- for문 내부 스위치 분 간소화 || 별도의 함수 처리